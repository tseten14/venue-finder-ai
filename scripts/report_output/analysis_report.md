# Venue Finder AI — Transit Entrance Dataset Analysis

## 1. Dataset Overview

The project contains **10 transit agency datasets** loaded from `data/entrances/*.txt`, totalling **15,525 entrance records** across **2,355 unique station names**.

Each CSV row represents one physical entrance point to a transit station, described by its `stationName`, a `uniqueId` (line/route identifier), and geographic coordinates (`lat`, `lon`).  A single station may have many entrance rows — one for each door, stairway, or access point.

### Agency File Sizes

| Agency | Entrance Records | Unique Stations | Avg. Entrances / Station |
|--------|----------------:|----------------:|------------------------:|
| Paris Métro | 11,111 | 1,193 | 9.3 |
| MTA | 2,120 | 372 | 5.7 |
| TfL | 513 | 221 | 2.3 |
| CTA | 381 | 109 | 3.5 |
| MBTA | 323 | 98 | 3.3 |
| Metra | 247 | 90 | 2.7 |
| WMATA | 239 | 98 | 2.4 |
| SFMTA | 230 | 73 | 3.1 |
| LA Metro | 229 | 101 | 2.3 |
| BART | 132 | 50 | 2.6 |

The largest dataset is **Paris Métro** with 11,111 records, while **BART** is the smallest at 132 records.

## 2. Key Relationships & Observations

### 2.1 System Size vs. Entrance Density

Larger transit systems do *not* necessarily have more entrances per station. **Paris Métro** has the highest entrance density at 9.3 entrances per station, while some smaller systems have comparable ratios. This suggests that entrance density is driven more by urban form (underground depth, street grid, accessibility requirements) than by system size alone.

### 2.2 Geographic Spread

**SFMTA** covers the widest geographic area (combined σ = 0.2955), reflecting a regional rail network, while **CTA** has the tightest cluster (σ = 0.0801), indicating a compact urban metro.

### 2.3 Latitude / Longitude Clustering

The box-plot analysis (charts 05 & 06) reveals clear continental groupings:

- **North American systems** (CTA, MTA, BART, SFMTA, LA Metro, MBTA, WMATA, Metra) cluster between latitudes 34°–42°N and longitudes −122°W to −71°W.
- **European systems** (Paris Métro, TfL) sit near latitude 48–51°N and longitude −0.5° to +2.5°E.

This geographic separation means the agencies share *no* overlapping station footprints, making cross-system comparison purely structural.

### 2.4 Correlation Analysis

The heatmap (chart 08) of agency-level metrics shows:

- **Total Entrances** and **Unique Stations** are strongly positively correlated — bigger systems have both more stations and more entrances.
- **Geographic Spread** has a weaker correlation with system size, confirming that some small systems cover wide areas (e.g. BART) while large systems can be geographically compact (e.g. Paris Métro underground).
- **Entrances/Station** is relatively independent of total system size, reinforcing the observation that density is a local property.

### 2.5 Entrance-Per-Station Distribution

Across all agencies, the median number of entrances per station is **4**, but the distribution is right-skewed: most stations have 1–5 entrances, while major hubs can have 15+ (e.g. Times Sq–42 St in MTA, or Châtelet–Les Halles in Paris Métro).

## 3. Summary

| Metric | Value |
|--------|------:|
| Total agencies | 10 |
| Total entrance records | 15,525 |
| Unique station names | 2,355 |
| Biggest dataset | Paris Métro (11,111) |
| Smallest dataset | BART (132) |
| Highest entrance density | Paris Métro (9.3 / station) |
| Widest geographic spread | SFMTA (σ = 0.2955) |

## 4. Generated Charts

| # | File | Description |
|---|------|-------------|
| 1 | `01_total_entrances.png` | Bar chart of total records per agency |
| 2 | `02_unique_stations.png` | Bar chart of unique stations per agency |
| 3 | `03_entrances_per_station.png` | Avg entrances per station |
| 4 | `04_pie_share.png` | Pie chart of record share |
| 5 | `05_lat_boxplot.png` | Latitude distribution by agency |
| 6 | `06_lon_boxplot.png` | Longitude distribution by agency |
| 7 | `07_scatter_all.png` | Geographic scatter of all entrances |
| 8 | `08_correlation_heatmap.png` | Correlation of agency metrics |
| 9 | `09_hist_entrances_per_station.png` | Histogram of entrances/station |
| 10 | `10_geo_spread.png` | Geographic spread per agency |

---
*Report generated by `scripts/report_visualization.py`*